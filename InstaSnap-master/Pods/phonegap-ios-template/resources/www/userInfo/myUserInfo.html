<!doctype html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户信息</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/default.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <!--<link href='http://fonts.useso.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>-->
    <!--[if IE]>
    <script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
    <![endif]-->
    <style type="text/css">
        html, body {
            font-size: 62.5%;
            height: 100%;
            overflow: hidden;
        }

        #search {
            position: relative;
            width: 100%;
            height: 5rem;
        }

        #chatbox {
            width: 100%;
            background: #fff;
             border-radius: 0px;
            overflow: hidden;
            height: 100%;
            position: absolute;
             top: 0px;
             left: 0%;
             margin-left: -0px;
        }

        #friendslist {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        #topmenu span {
            /*width: 8rem;*/
            display: table-cell;
        }
        #chatview{
            border-radius: 0px;
            width:100%;
            margin-bottom: 70px;
        }
        #chat-messages {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<!--<div class="htmleaf-container">-->
<!--<div class="htmleaf-content bgcolor-3">-->
<div id="chatbox">
    <div id="friendslist">

        <div id="search">
            <input type="text" id="searchfield" value="Search contacts..." />
        </div>

        <div id="friends">
            <div class="friend">
                <img src="img/1_copy.jpg" />
                <p>
                    <strong>Miro Badev</strong>
                    <span>mirobadev@gmail.com</span>
                </p>
                <div class="status available"></div>
            </div>

            <div class="friend">
                <img src="img/2_copy.jpg" />
                <p>
                    <strong>Martin Joseph</strong>
                    <span>marjoseph@gmail.com</span>
                </p>
                <div class="status away"></div>
            </div>

            <div class="friend">
                <img src="img/3_copy.jpg" />
                <p>
                    <strong>Tomas Kennedy</strong>
                    <span>tomaskennedy@gmail.com</span>
                </p>
                <div class="status inactive"></div>
            </div>

            <div class="friend">
                <img src="img/4_copy.jpg" />
                <p>
                    <strong>Enrique	Sutton</strong>
                    <span>enriquesutton@gmail.com</span>
                </p>
                <div class="status inactive"></div>
            </div>

            <div class="friend">
                <img src="img/5_copy.jpg" />
                <p>
                    <strong>	Darnell	Strickland</strong>
                    <span>darnellstrickland@gmail.com</span>
                </p>
                <div class="status inactive"></div>
            </div>

        </div>

    </div>

    <div id="chatview" class="p1">
        <div id="profile" style="background-position: center center;background-size: 100%;">

            <div id="close">
                <div class="cy"></div>
                <div class="cx"></div>
            </div>

            <p>Miro Badev</p>
            <span>miro@badev@gmail.com</span>
        </div>


        <div id="chat-messages">
            <label>Thursday 02</label>

            <div class="message">
                <img src="img/1_copy.jpg" />
                <div class="bubble">
                    Really cool stuff!
                    <div class="corner"></div>
                    <span>3 min</span>
                </div>
            </div>

            <!--<div class="message right">-->
                <!--<img src="img/2_copy.jpg" />-->
                <!--<div class="bubble">-->
                    <!--Can you share a link for the tutorial?-->
                    <!--<div class="corner"></div>-->
                    <!--<span>1 min</span>-->
                <!--</div>-->
            <!--</div>-->

            <!--<div class="message">-->
                <!--<img src="img/1_copy.jpg" />-->
                <!--<div class="bubble">-->
                    <!--Yeah, hold on-->
                    <!--<div class="corner"></div>-->
                    <!--<span>Now</span>-->
                <!--</div>-->
            <!--</div>-->

            <!--<div class="message right">-->
                <!--<img src="img/2_copy.jpg" />-->
                <!--<div class="bubble">-->
                    <!--Can you share a link for the tutorial?-->
                    <!--<div class="corner"></div>-->
                    <!--<span>1 min</span>-->
                <!--</div>-->
            <!--</div>-->

            <!--<div class="message">-->
                <!--<img src="img/1_copy.jpg" />-->
                <!--<div class="bubble">-->
                    <!--Yeah, hold on-->
                    <!--<div class="corner"></div>-->
                    <!--<span>Now</span>-->
                <!--</div>-->
            <!--</div>-->

        </div>

        <!--<div id="sendmessage">-->
            <!--<input type="text" value="Send message..." />-->
            <!--<button id="send"></button>-->
        <!--</div>-->

    </div>
    
    <div style="position: absolute;bottom: 0px;display: table-cell;">
<!--        <div id="topmenu" style="position: absolute;bottom: 0px;left: 50%;margin-left: -12rem;">-->
        <div id="topmenu" style="position: absolute;bottom: 0px;">
            <span class="chats"></span>
            <span class="friends"></span>
            <span class="history"></span>
        </div>
    </div>
</div>
<!--</div>-->
<!--</div>-->

<!--<script src="http://libs.useso.com/js/jquery/1.11.0/jquery.min.js"></script>-->
<script src="../js/jquery.min.js"></script>
<script>
    $(document).ready(function () {

        $(".chats").click(function(){
            $(this).css('background-position-x','-95px');
            $(this).css('background-position-y','-118px');


            $(".friends").css('background-position-x','-3px');
            $(".friends").css('background-position-y','24px');
        });

        $(".friends").click(function(){
            $(this).css('background-position-x','-3px');
            $(this).css('background-position-y','-118px');


            $(".chats").css('background-position-x','-95px');
            $(".chats").css('background-position-y','24px');
        });

        $(".history").on('click',function(){
            window.location.href="../index.html";
        });

        var preloadbg = document.createElement('img');
        preloadbg.src = 'img/timeline1.png';
        $('#searchfield').focus(function () {
            if ($(this).val() == 'Search contacts...') {
                $(this).val('');
            }
        });
        $('#searchfield').focusout(function () {
            if ($(this).val() == '') {
                $(this).val('Search contacts...');
            }
        });
        $('#sendmessage input').focus(function () {
            if ($(this).val() == 'Send message...') {
                $(this).val('');
            }
        });
        $('#sendmessage input').focusout(function () {
            if ($(this).val() == '') {
                $(this).val('Send message...');
            }
        });
        $('.friend').each(function () {
            $(this).click(function () {
                var childOffset = $(this).offset();
                var parentOffset = $(this).parent().parent().offset();
                var childTop = childOffset.top - parentOffset.top;
                var clone = $(this).find('img').eq(0).clone();
                var top = childTop + 12 + 'px';
                $(clone).css({ 'top': top }).addClass('floatingImg').appendTo('#chatbox');
                setTimeout(function () {
                    $('#profile p').addClass('animate');
                    $('#profile').addClass('animate');
                }, 100);
                setTimeout(function () {
                    $('#chat-messages').addClass('animate');
                    $('.cx, .cy').addClass('s1');
                    setTimeout(function () {
                        $('.cx, .cy').addClass('s2');
                    }, 100);
                    setTimeout(function () {
                        $('.cx, .cy').addClass('s3');
                    }, 200);
                }, 150);
                $('.floatingImg').animate({
//                    'width': '68px',
//                    'left': '108px',
                    'top': '20px',
                    'width': '68px',
//                    'top': '1.5rem',
                    'left': '50%',
                    'margin-left': '-34px',
                }, 200);
                var name = $(this).find('p strong').html();
                var email = $(this).find('p span').html();
                $('#profile p').html(name);
                $('#profile span').html(email);

                // 2016年04月22日11:31:43 yly 修改个人信息
                $('#profile span').html("个人信息");

                $('.message').not('.right').find('img').attr('src', $(clone).attr('src'));
                $('#friendslist').fadeOut();
                $('#chatview').fadeIn();
                $('#close').unbind('click').click(function () {
                    $('#chat-messages, #profile, #profile p').removeClass('animate');
                    $('.cx, .cy').removeClass('s1 s2 s3');
                    $('.floatingImg').animate({
                        'width': '40px',
                        'top': top,
                        'left': '12px'
                    }, 200, function () {
                        $('.floatingImg').remove();
                    });
                    setTimeout(function () {
                        $('#chatview').fadeOut();
                        $('#friendslist').fadeIn();
                    }, 50);
                });
            });
        });
    });
</script>
</body>
</html>